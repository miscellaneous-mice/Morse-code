#include <reg51.h>
unsigned int s;

void one(void)
{ 
	P0 = 0x01;
}
void two(void)
{ 
	P0 = 0x02;
}
void three(void)
{
	P0 = 0x04;
}
void four(void)
{
	P0 = 0x08;
}
void stop(void)
{
	P2 = 0x00;
}
	

void delay(void)
{
	unsigned char j;
	
TMOD = 0x01;
for (j=0;j<15;j++)
{
TH0 = 0x00;
TL0 = 0x00;
TF0 = 0;
TR0 = 1;
while(TF0==0);
TR0 = 0;
}
}
	

void main(void)

{ 
	unsigned char i;

	P3 = 0xff;
	P2 = 0x00;
	P1 = 0x00;
	P0 = 0x00;

	s = P3;


if(s == 0x77)
{
	unsigned char code A[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<7;i++)
{
  P1 =	A[i];
	P2 = s;
	delay();
}
stop();
}
else if(s == 0x7c) 
{ 
	unsigned char code B[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	one();

		for(i=0;i<11;i++)
		{
			P1 = B[i];
			P2 = s;
			delay();
		}
		stop();
	}
else if(s == 0x39)
{
	unsigned char code C[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<13;i++)
	{
		P1 = C[i];
		P2 = s;
		delay();
	}
	stop();
}
else if( s == 0x5e)
{
	unsigned char code D[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<9;i++)
	{ 
		P1 = D[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x7b)
{
	unsigned char code E[]={0x00,0x01,0x00};
	one();
	
	for(i=0;i<3;i++)
	{
		P1 = E[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x71)
{
	unsigned char code F[]={0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<11;i++)
	{
		P1 = F[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x6f)
{
	unsigned char code G[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<11;i++)
	{
		P1 = G[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x74)
{
	unsigned char code H[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<9;i++)
	{
		P1 = H[i];
		P2 = s;
		delay();
	}
	stop();
}

else if(s == 0x30)
{
	unsigned char code I[]={0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<5;i++)
	{
		P1 = I[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x1f)
{
	unsigned char code J[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<15;i++)
	{
		P1 = J[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x75)
{
	unsigned char code K[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	three();
	
	for(i=0;i<11;i++)
	{
		P1 = K[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x38)
{
	unsigned char code L[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<11;i++)
	{
		P1 = L[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x79)
{
	unsigned char code M[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	two();
	
	for(i=0;i<9;i++)
	{
		P1 = M[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x54)
{
	unsigned char code N[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<7;i++)
	{
		P1 = N[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x5c)
{
	unsigned char code O[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<13;i++)
	{
		P1 = O[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x73)
{
	unsigned char code P[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<13;i++)
	{
		P1 = P[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x67)
{
	unsigned char code Q[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<15;i++)
	{
		P1 = Q[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x50)
{
	unsigned char code R[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<9;i++)
	{
		P1 = R[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x6d)
{
	unsigned char code S[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<7;i++)
	{
		P1 = S[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x78)
{
	unsigned char code T[]={0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<5;i++)
	{
		P1 = T[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x3e)
{
	unsigned char code U[]={0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<9;i++)
	{
		P1 = U[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x1c)
{
	unsigned char code V[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	three();
	
	for(i=0;i<11;i++)
	{
		P1 = V[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x4f)
{
	unsigned char code W[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	two();
	
	for(i=0;i<11;i++)
	{
		P1 = W[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x76)
{
	unsigned char code X[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	three();
	
	for(i=0;i<13;i++)
	{
		P1 = X[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x6e)
{
	unsigned char code Y[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	one();
	
	for(i=0;i<12;i++)
	{
		P1 = Y[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x5b)
{
	unsigned char code Z[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00};
	one();
	
	for(i=0;i<13;i++)
	{
		P1 = Z[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xbf)
{
	unsigned char code ZERO[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	four();
	
	for(i=0;i<21;i++)
	{
		P1 = ZERO[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x86)
{
	unsigned char code ONE[]={0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	four();
	
	for(i=0;i<19;i++)
	{
		P1 = ONE[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xdb)
{
	unsigned char code TWO[]={0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	four();
	
	for(i=0;i<17;i++)
	{
		P1 = TWO[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xcf)
{
	unsigned char code THREE[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00};
	four();
	
	for(i=0;i<15;i++)
	{
		P1 = THREE[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xe6)
{
	unsigned char code FOUR[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x01,0x00};
	four();
	
	for(i=0;i<13;i++)
	{
		P1 = FOUR[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xdd)
{
	unsigned char code FIVE[]={0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	four();
	
	for(i=0;i<11;i++)
	{
		P1 = FIVE[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xfd)
{
	unsigned char code SIX[]={0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	four();
	
	for(i=0;i<13;i++)
	{
		P1 = SIX[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0x87)
{
	unsigned char code SEVEN[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00};
	four();
	
	for(i=0;i<15;i++)
	{
		P1 = SEVEN[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xff)
{
	unsigned char code EIGHT[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00,0x01,0x00};
	four();
	
	for(i=0;i<17;i++)
	{
		P1 = EIGHT[i];
		P2 = s;
		delay();
	}
	stop();
}
else if(s == 0xef)
{
	unsigned char code NINE[]={0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,0x00};
	four();
	
	for(i=0;i<19;i++)
	{
		P1 = NINE[i];
		P2 = s;
		delay();
	}
	stop();
}
else 
{ 
	P1 = 0x00;
	P2 = 0x00;
	P0 = 0x00;
}
}